<HTML>
<head>
<meta http-equiv="content-type" content="text/html; charset=gb2312">
<link rel="stylesheet" href="temp1.css" type="text/css">
</head>
<body bgcolor=#ffffff vlink=#0000ff>
<br>
<p class="sz1">5.事件</p><hr color=#2266ee size=1>
　　Supcan FreeForm设计器的OnEvent( id, Event, p1, p2, p3, p4 )事件含义及参数分别如下：<br>

<table width=98% border=1 align="center">
<tr><th>Event</th><th>含义</th><th>p1</th><th>p2</th><th>p3</th><th>p4</th></tr>
<tr>
  <td>Saved</td>
  <td>点击了“保存”按钮</td>
  <td>ID号，当前的 Freeform 的ID, 如果当前是最外层Freeform，则为空串</td>
  <td>当前 Freeform 的URL串, 也可能是纯数字串方式的内存句柄(可用全局函数 GetDataString 访问)</td>
  <td>&nbsp;</td>
  <td>&nbsp;</td></tr>
<tr>
  <td>EventListDblClicked</td>
  <td>双击了工具箱的事件列表中的某个事件</td>
  <td>组件类型, 如"Freeform"</td>
  <td>大粒度组件的ID, 空串表示当前未选中(即最外层)</td>
  <td>事件名</td>
  <td>&nbsp;</td></tr>
<tr>
  <td>EventListRefreshed</td>
  <td>当前对象切换导致的工具箱的事件列表刷新</td>
  <td>ID, 空串表示当前是最外层Freeform</td>
  <td>&nbsp;</td>
  <td>&nbsp;</td>
  <td>&nbsp;</td></tr>
<tr>
  <td>ButtonClicked</td>
  <td>点击了工具箱中属性输入框中的右侧按钮</td>
  <td>ID</td>
  <td>值串</td>
  <td>&nbsp;</td>
  <td>&nbsp;</td></tr>
<tr>
  <td>EditChanged</td>
  <td>工具箱中URL输入框内容有变化 (仅右侧含按钮的场景)</td>
  <td>ID</td>
  <td>修改后的串</td>
  <td>修改前的串</td>
  <td>&nbsp;</td></tr>
<tr>
  <td>UserProp_ButtonClicked</td>
  <td>EditWithButton型的自定义属性的输入框右侧小按钮被点击</td>
  <td>自定义属性的ID</td>
  <td>&nbsp;</td>
  <td>&nbsp;</td>
  <td>&nbsp;</td></tr>
<tr>
  <td rowspan="2">Toolbar</td>
  <td>鼠标点击了工具条中的某按钮</td>
  <td>功能号</td>
  <td>参数，和功能号有关</td>
  <td>&nbsp;</td>
  <td>&nbsp;</td></tr>
<tr bgColor=#ffffdd><td colspan="5">备注：可执行全局函数CalcelEvent( )阻止继续执行</td></tr>
<tr>
  <td>CacheSaved</td>
  <td>全局事件，请参见全局函数 ListenEvent</td>
  <td>缓存的ID</td>
  <td>&nbsp;</td>
  <td>&nbsp;</td>
  <td>&nbsp;</td></tr>
</table>
<br>

　　设计器就只有一个"Saved"事件，通常在"Saved"事件后，调用GetFileXML(  )函数获得当前的XML大串，通过Ajax保存到后端，以实现在线设计。<br>


<br><br><br>
<script type='text/javascript' src='nstd.js'></script>
</body></html>