{
 "hidden": false,
 "children": [{
  "configs": {"itemId": "module"},
  "expanded": true,
  "children": [{
   "configs": {
    "layout": "border",
    "itemId": "viewport1"
   },
   "expanded": true,
   "children": [
    {
     "configs": {
      "layout": "border",
      "itemId": "panel1",
      "region": "north",
      "height": "200"
     },
     "expanded": true,
     "children": [
      {
       "configs": {
        "layout": "fit",
        "itemId": "panele",
        "region": "center"
       },
       "expanded": false,
       "children": [{
        "configs": {
         "itemId": "gridh",
         "editable": "true"
        },
        "expanded": false,
        "children": [
         {
          "configs": {
           "itemId": "store",
           "autoLoad": "true",
           "url": "m?xwl=feeManage/feeReportForXL/xltruckfeeEdit/headedit/select"
          },
          "expanded": false,
          "children": [],
          "type": "store"
         },
         {
          "configs": {"itemId": "columns"},
          "expanded": true,
          "children": [
           {
            "configs": {
             "itemId": "rownum141",
             "xtype": "rownumberer",
             "width": "40",
             "text": "序号",
             "titleAlign": "center"
            },
            "expanded": true,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colNAME",
             "dataIndex": "NAME",
             "width": "100",
             "text": "名称",
             "titleAlign": "center"
            },
            "expanded": true,
            "children": [{
             "configs": {"itemId": "editor"},
             "expanded": false,
             "children": [],
             "type": "text"
            }],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colBEGDATE",
             "dataIndex": "BEGDATE",
             "width": "120",
             "text": "开始时间",
             "titleAlign": "center"
            },
            "expanded": true,
            "children": [{
             "configs": {"itemId": "editor"},
             "expanded": false,
             "children": [],
             "type": "datetime"
            }],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colENDDATE",
             "dataIndex": "ENDDATE",
             "width": "120",
             "text": "截止时间",
             "titleAlign": "center"
            },
            "expanded": true,
            "children": [{
             "configs": {"itemId": "editor"},
             "expanded": false,
             "children": [],
             "type": "datetime"
            }],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colNOTE",
             "dataIndex": "NOTE",
             "flex": "-1",
             "width": "70",
             "text": "备注",
             "titleAlign": "center"
            },
            "expanded": true,
            "children": [{
             "configs": {"itemId": "editor"},
             "expanded": false,
             "children": [],
             "type": "textarea"
            }],
            "type": "column"
           }
          ],
          "type": "array"
         },
         {
          "configs": {
           "itemId": "tbar",
           "padding": "0,0,0,0",
           "normalName": "headTbar",
           "cls": "border-width:0px",
           "dock": "top"
          },
          "expanded": false,
          "children": [
           {
            "configs": {
             "itemId": "sdate",
             "hidden": "true",
             "labelAlign": "right",
             "fieldLabel": "开始时间",
             "width": "160",
             "labelWidth": "60"
            },
            "expanded": false,
            "children": [],
            "type": "date"
           },
           {
            "configs": {
             "itemId": "edate",
             "hidden": "true",
             "labelAlign": "right",
             "fieldLabel": "结束时间",
             "width": "160",
             "labelWidth": "60"
            },
            "expanded": false,
            "children": [],
            "type": "date"
           },
           {
            "configs": {
             "itemId": "tradeId",
             "hidden": "true",
             "labelAlign": "right",
             "fieldLabel": "内外贸",
             "keyName": "TRADE_ID",
             "width": "130",
             "labelWidth": "50"
            },
            "expanded": false,
            "children": [],
            "type": "combo"
           },
           {
            "configs": {
             "itemId": "address",
             "hidden": "true",
             "labelAlign": "right",
             "fieldLabel": "地址",
             "keyName": "C_ADDRESS",
             "width": "120",
             "labelWidth": "40"
            },
            "expanded": false,
            "children": [],
            "type": "combo"
           },
           {
            "configs": {
             "itemId": "payer",
             "hidden": "true",
             "labelAlign": "right",
             "pickList": "[\
  ['货主', '货主'],\
  ['船公司', '船公司']\
]",
             "fieldLabel": "付费方",
             "width": "130",
             "labelWidth": "50"
            },
            "expanded": false,
            "children": [],
            "type": "combo"
           },
           {
            "configs": {
             "itemId": "billNo",
             "hidden": "true",
             "fieldLabel": "提单号",
             "width": "160",
             "labelWidth": "55"
            },
            "expanded": false,
            "children": [],
            "type": "text",
            "events": {"specialkey": "app.seekMenu.fireEvent('click');"}
           },
           {
            "configs": {
             "itemId": "cntr",
             "hidden": "true",
             "labelAlign": "right",
             "fieldLabel": "箱号",
             "width": "140",
             "labelWidth": "40"
            },
            "expanded": false,
            "children": [],
            "type": "text",
            "events": {"specialkey": "app.seekMenu.fireEvent('click');"}
           },
           {
            "configs": {
             "itemId": "seekMenu",
             "hidden": "true",
             "text": "@Str.find",
             "iconCls": "search_icon"
            },
            "expanded": false,
            "children": [],
            "type": "item",
            "events": {"click": "// app.grid1.store.load({\
//   out:app.tbar\
// });\
\
app.grid1.store.load({\
  params: {\
    billNo: app.billNo.getValue(),\
    cntr: app.cntr.getValue(),\
    sdate: app.sdate.getValue(),\
    edate: app.edate.getValue(),\
    tradeId: app.tradeId.getValue(),\
    address: app.address.getValue(),\
    payer: app.payer.getValue()\
  }\
});"}
           },
           {
            "configs": {
             "itemId": "addadd",
             "tooltip": "增加新地址",
             "text": "增加",
             "iconCls": "record_add_icon"
            },
            "expanded": false,
            "children": [],
            "type": "button",
            "events": {"click": "Wb.addEdit(app.gridh, {\
  TENANCY_ID: '{#sys.TENANCY_ID#}',\
  BEGDATE: new Date(),\
  ENDDATE: new Date()\
});"}
           },
           {
            "configs": {
             "itemId": "deleteadd",
             "text": "删除",
             "iconCls": "record_delete_icon"
            },
            "expanded": true,
            "children": [],
            "type": "button",
            "events": {"click": "Wb.remove(app.gridh);"}
           },
           {
            "configs": {
             "itemId": "saveadd",
             "text": "保存",
             "iconCls": "save_icon"
            },
            "expanded": false,
            "children": [],
            "type": "button",
            "events": {"click": "if (!Wb.verifyGrid(app.gridh)) //验证数据是否合法\
  return;\
Wb.sync({\
  grid: app.gridh,\
  url: 'm?xwl=feeManage/feeReportForXL/xltruckfeeEdit/headedit/save',\
  message: '正在保存中...',\
  success: function(resp) {\
    //ID_FIELD值在后台生成，把返回的ID_FIELD值列表同步到表格中\
    Wb.syncCreate(app.gridh, Wb.decode(resp.responseText));\
  }\
});"}
           },
           {
            "configs": {
             "itemId": "container1",
             "hidden": "true"
            },
            "expanded": true,
            "children": [{
             "configs": {"itemId": "ids"},
             "expanded": false,
             "children": [],
             "type": "text"
            }],
            "type": "container"
           }
          ],
          "type": "toolbar"
         }
        ],
        "type": "grid",
        "events": {"itemclick": "// app.billGrid.store.load( { params:{CNTR_NO:record.get(\"CNTR\")}});\
app.grid1.store.load({\
  params: {\
    P_ID: record.data.ID\
  }\
});\
app.gridcontract.store.load({\
  params: {\
    PID: record.data.ID\
  }\
});\
app.ids.setValue(record.data.ID);"}
       }],
       "type": "panel"
      },
      {
       "configs": {
        "layout": "fit",
        "itemId": "panelw",
        "split": "true",
        "width": "550",
        "region": "east"
       },
       "expanded": true,
       "children": [{
        "configs": {
         "itemId": "gridcontract",
         "editable": "true"
        },
        "expanded": true,
        "children": [
         {
          "configs": {
           "itemId": "store",
           "autoLoad": "true",
           "url": "m?xwl=feeManage/feeReportForXL/xltruckfeeEdit/contract/select"
          },
          "expanded": false,
          "children": [],
          "type": "store"
         },
         {
          "configs": {"itemId": "columns"},
          "expanded": true,
          "children": [
           {
            "configs": {
             "itemId": "rownum141",
             "xtype": "rownumberer",
             "width": "40",
             "text": "序号",
             "titleAlign": "center"
            },
            "expanded": true,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colCNTR_OPERATOR_COD",
             "hidden": "true",
             "dataIndex": "CNTR_OPERATOR_COD",
             "width": "100",
             "keyName": "AG_SHORT",
             "text": "船公司",
             "titleAlign": "center"
            },
            "expanded": true,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colCNTR_OPERATOR_COD1",
             "dataIndex": "CNTR_OPERATOR",
             "width": "100",
             "text": "船公司",
             "titleAlign": "center"
            },
            "expanded": true,
            "children": [{
             "configs": {
              "tagConfigs": "matchFieldWidth: false",
              "labelWidth": "50",
              "listConfig": "{\
  width: 300\
}",
              "valueField": "CNAME",
              "queryDelay": "500",
              "itemId": "editor",
              "tpl": "<table cellspacing='0' width='100%'>\
  <tr>\
    <td>\
      船公司\
    <\/td>\
    <td>\
      编号\
    <\/td>\
  <\/tr>\
  <tpl for='.'>\
    <tr class='x-boundlist-item' >\
      <td >\
        {CNAME}\
      <\/td>\
      <td>\
        {ID}\
      <\/td>\
    <\/tr>\
  <\/tpl>\
<\/table>",
              "labelAlign": "right",
              "x": "648",
              "width": "180",
              "y": "8",
              "displayField": "CNAME",
              "forceSelection": "true",
              "height": "22",
              "multiSelect": "true"
             },
             "expanded": true,
             "children": [{
              "configs": {
               "itemId": "store",
               "autoLoad": "false",
               "params": "{fldId:\"AG\"}",
               "url": "m?xwl=system/common/client/clientSelect"
              },
              "expanded": false,
              "children": [],
              "type": "store",
              "events": {"beforeload": "// operation.params = {\
//   rd: app.radioD.getValue(),\
//   date: app.date1.getRawValue()\
// };"}
             }],
             "type": "combo",
             "events": {"select": "// var row = app.gridcontract.getSelection();\
// // row[0].set('CNTR_OPERATOR', records[0].data.CNAME);\
// var name = \"\";\
// for (var i = 0; i < records.length; i++) {\
//   name += records[i].data.CNAME + \",\";\
// }\
// row[0].set('CNTR_OPERATOR', name.substring(0,name.length-1));\
\
\
var row = app.gridcontract.getSelection();\
var name = \"\";\
for (var i = 0; i < records.length; i++) {\
  name += records[i].data.ID + \",\";\
}\
row[0].set('CNTR_OPERATOR_COD', name.substring(0,name.length-1));"}
            }],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colSHIPPER_COD",
             "hidden": "true",
             "dataIndex": "SHIPPER_COD",
             "width": "120",
             "keyName": "AG_CUSTOMER",
             "text": "货主",
             "titleAlign": "center"
            },
            "expanded": true,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colSHIPPER_COD1",
             "dataIndex": "SHIPPER",
             "width": "120",
             "text": "货主",
             "titleAlign": "center"
            },
            "expanded": true,
            "children": [{
             "configs": {
              "tagConfigs": "matchFieldWidth: false",
              "labelWidth": "50",
              "listConfig": "{\
  width: 300\
}",
              "valueField": "CNAME",
              "queryDelay": "500",
              "itemId": "editor",
              "tpl": "<table cellspacing='0' width='100%'>\
  <tr>\
    <td>\
      船公司\
    <\/td>\
    <td>\
      编号\
    <\/td>\
  <\/tr>\
  <tpl for='.'>\
    <tr class='x-boundlist-item' >\
      <td >\
        {CNAME}\
      <\/td>\
      <td>\
        {ID}\
      <\/td>\
    <\/tr>\
  <\/tpl>\
<\/table>",
              "labelAlign": "right",
              "x": "648",
              "width": "180",
              "y": "8",
              "displayField": "CNAME",
              "forceSelection": "true",
              "height": "22",
              "multiSelect": "true"
             },
             "expanded": true,
             "children": [{
              "configs": {
               "itemId": "store",
               "autoLoad": "false",
               "params": "{fldId:\"AG\"}",
               "url": "m?xwl=system/common/client/clientSelect"
              },
              "expanded": false,
              "children": [],
              "type": "store",
              "events": {"beforeload": "// operation.params = {\
//   rd: app.radioD.getValue(),\
//   date: app.date1.getRawValue()\
// };"}
             }],
             "type": "combo",
             "events": {"select": "// var row=app.gridcontract.getSelection();\
// row[0].set('SHIPPER',records[0].data.CNAME);\
\
\
var row = app.gridcontract.getSelection();\
var name = \"\";\
for (var i = 0; i < records.length; i++) {\
  name += records[i].data.ID + \",\";\
}\
row[0].set('SHIPPER_COD', name.substring(0,name.length-1));"}
            }],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colFEE_SET",
             "dataIndex": "FEE_SET",
             "width": "70",
             "text": "费率",
             "align": "right",
             "titleAlign": "center"
            },
            "expanded": true,
            "children": [{
             "configs": {
              "itemId": "editor",
              "minValue": "0"
             },
             "expanded": false,
             "children": [],
             "type": "number"
            }],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colFEE_MONERY",
             "dataIndex": "FEE_MONERY",
             "width": "70",
             "text": "金额",
             "align": "right",
             "titleAlign": "center"
            },
            "expanded": true,
            "children": [{
             "configs": {
              "itemId": "editor",
              "minValue": "0"
             },
             "expanded": false,
             "children": [],
             "type": "number"
            }],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colNOTE",
             "dataIndex": "NOTE",
             "flex": "-1",
             "text": "备注",
             "titleAlign": "center"
            },
            "expanded": true,
            "children": [{
             "configs": {"itemId": "editor"},
             "expanded": false,
             "children": [],
             "type": "textarea"
            }],
            "type": "column"
           }
          ],
          "type": "array"
         },
         {
          "configs": {
           "itemId": "tbar",
           "padding": "0,0,0,0",
           "normalName": "headTbar",
           "cls": "border-width:0px",
           "dock": "top"
          },
          "expanded": false,
          "children": [
           {
            "configs": {
             "itemId": "sdate",
             "hidden": "true",
             "labelAlign": "right",
             "fieldLabel": "开始时间",
             "width": "160",
             "labelWidth": "60"
            },
            "expanded": false,
            "children": [],
            "type": "date"
           },
           {
            "configs": {
             "itemId": "edate",
             "hidden": "true",
             "labelAlign": "right",
             "fieldLabel": "结束时间",
             "width": "160",
             "labelWidth": "60"
            },
            "expanded": false,
            "children": [],
            "type": "date"
           },
           {
            "configs": {
             "itemId": "tradeId",
             "hidden": "true",
             "labelAlign": "right",
             "fieldLabel": "内外贸",
             "keyName": "TRADE_ID",
             "width": "130",
             "labelWidth": "50"
            },
            "expanded": false,
            "children": [],
            "type": "combo"
           },
           {
            "configs": {
             "itemId": "address",
             "hidden": "true",
             "labelAlign": "right",
             "fieldLabel": "地址",
             "keyName": "C_ADDRESS",
             "width": "120",
             "labelWidth": "40"
            },
            "expanded": false,
            "children": [],
            "type": "combo"
           },
           {
            "configs": {
             "itemId": "payer",
             "hidden": "true",
             "labelAlign": "right",
             "pickList": "[\
  ['货主', '货主'],\
  ['船公司', '船公司']\
]",
             "fieldLabel": "付费方",
             "width": "130",
             "labelWidth": "50"
            },
            "expanded": false,
            "children": [],
            "type": "combo"
           },
           {
            "configs": {
             "itemId": "billNo",
             "hidden": "true",
             "fieldLabel": "提单号",
             "width": "160",
             "labelWidth": "55"
            },
            "expanded": false,
            "children": [],
            "type": "text",
            "events": {"specialkey": "app.seekMenu.fireEvent('click');"}
           },
           {
            "configs": {
             "itemId": "cntr",
             "hidden": "true",
             "labelAlign": "right",
             "fieldLabel": "箱号",
             "width": "140",
             "labelWidth": "40"
            },
            "expanded": false,
            "children": [],
            "type": "text",
            "events": {"specialkey": "app.seekMenu.fireEvent('click');"}
           },
           {
            "configs": {
             "itemId": "seekMenu",
             "hidden": "true",
             "text": "@Str.find",
             "iconCls": "search_icon"
            },
            "expanded": false,
            "children": [],
            "type": "item",
            "events": {"click": "// app.grid1.store.load({\
//   out:app.tbar\
// });\
\
app.grid1.store.load({\
  params: {\
    billNo: app.billNo.getValue(),\
    cntr: app.cntr.getValue(),\
    sdate: app.sdate.getValue(),\
    edate: app.edate.getValue(),\
    tradeId: app.tradeId.getValue(),\
    address: app.address.getValue(),\
    payer: app.payer.getValue()\
  }\
});"}
           },
           {
            "configs": {
             "itemId": "addadd",
             "tooltip": "增加新地址",
             "text": "增加",
             "iconCls": "record_add_icon"
            },
            "expanded": false,
            "children": [],
            "type": "button",
            "events": {"click": "Wb.addEdit(app.gridcontract, {\
  PID: app.ids.getValue()\
});"}
           },
           {
            "configs": {
             "itemId": "deleteadd",
             "text": "删除",
             "iconCls": "record_delete_icon"
            },
            "expanded": true,
            "children": [],
            "type": "button",
            "events": {"click": "Wb.remove(app.gridcontract);"}
           },
           {
            "configs": {
             "itemId": "saveadd",
             "text": "保存",
             "iconCls": "save_icon"
            },
            "expanded": false,
            "children": [],
            "type": "button",
            "events": {"click": "if (!Wb.verifyGrid(app.gridcontract)) //验证数据是否合法\
  return;\
Wb.sync({\
  grid: app.gridcontract,\
  url: 'm?xwl=feeManage/feeReportForXL/xltruckfeeEdit/contract/save',\
  message: '正在保存中...',\
  success: function(resp) {\
    //ID_FIELD值在后台生成，把返回的ID_FIELD值列表同步到表格中\
    Wb.syncCreate(app.gridcontract, Wb.decode(resp.responseText));\
  }\
});"}
           },
           {
            "configs": {
             "itemId": "container1",
             "hidden": "true"
            },
            "expanded": true,
            "children": [{
             "configs": {"itemId": "ids"},
             "expanded": false,
             "children": [],
             "type": "text"
            }],
            "type": "container"
           }
          ],
          "type": "toolbar"
         }
        ],
        "type": "grid",
        "events": {"itemclick": "// app.billGrid.store.load( { params:{CNTR_NO:record.get(\"CNTR\")}});\
app.grid1.store.load({\
  params: {\
    P_ID: record.data.ID\
  }\
});\
app.ids.setValue(record.data.ID);"}
       }],
       "type": "panel"
      }
     ],
     "type": "panel"
    },
    {
     "configs": {
      "layout": "fit",
      "itemId": "panel2",
      "region": "center"
     },
     "expanded": false,
     "children": [{
      "configs": {
       "itemId": "grid1",
       "selType": "checkboxmodel",
       "editable": "true",
       "multiSelect": "true"
      },
      "expanded": true,
      "children": [
       {
        "configs": {
         "itemId": "store",
         "autoLoad": "false",
         "url": "m?xwl=feeManage/feeReportForXL/xltruckfeeEdit/select"
        },
        "expanded": false,
        "children": [],
        "type": "store"
       },
       {
        "configs": {"itemId": "columns"},
        "expanded": true,
        "children": [
         {
          "configs": {
           "itemId": "rownum141",
           "xtype": "rownumberer",
           "width": "40",
           "text": "序号",
           "titleAlign": "center"
          },
          "expanded": true,
          "children": [],
          "type": "column"
         },
         {
          "configs": {
           "itemId": "CNTR_SIZEmn1511",
           "dataIndex": "CNTR_SIZE",
           "width": "50",
           "text": "尺寸",
           "titleAlign": "center"
          },
          "expanded": true,
          "children": [{
           "configs": {
            "itemId": "editor",
            "pickList": "[\
  ['20', '20'],\
  ['40', '40'],\
  ['45', '45']\
]"
           },
           "expanded": false,
           "children": [],
           "type": "combo"
          }],
          "type": "column"
         },
         {
          "configs": {
           "itemId": "PHASEumn19",
           "hidden": "true",
           "dataIndex": "PHASE",
           "width": "70",
           "text": "状态",
           "titleAlign": "center"
          },
          "expanded": true,
          "children": [{
           "configs": {"itemId": "editor"},
           "expanded": false,
           "children": [],
           "type": "text"
          }],
          "type": "column"
         },
         {
          "configs": {
           "itemId": "E_F_IDmn15",
           "hidden": "true",
           "dataIndex": "E_F_ID",
           "width": "50",
           "keyName": "E_F_ID",
           "text": "空重",
           "titleAlign": "center"
          },
          "expanded": true,
          "children": [{
           "configs": {
            "itemId": "editor",
            "keyName": "E_F_ID"
           },
           "expanded": false,
           "children": [],
           "type": "combo"
          }],
          "type": "column"
         },
         {
          "configs": {
           "itemId": "TRADE_IDCol",
           "dataIndex": "TRADE_ID",
           "width": "50",
           "keyName": "TRADE_ID",
           "text": "内外贸",
           "titleAlign": "center"
          },
          "expanded": true,
          "children": [{
           "configs": {
            "itemId": "editor",
            "keyName": "TRADE_ID"
           },
           "expanded": false,
           "children": [],
           "type": "combo"
          }],
          "type": "column"
         },
         {
          "configs": {
           "itemId": "I_E_IDmn11",
           "hidden": "true",
           "dataIndex": "I_E_ID",
           "width": "60",
           "keyName": "I_E_ID",
           "text": "进出口",
           "titleAlign": "center"
          },
          "expanded": true,
          "children": [{
           "configs": {
            "itemId": "editor",
            "keyName": "I_E_ID"
           },
           "expanded": false,
           "children": [],
           "type": "combo"
          }],
          "type": "column"
         },
         {
          "configs": {
           "itemId": "CARGO_TYPE13",
           "hidden": "true",
           "dataIndex": "CARGO_TYPE",
           "width": "90",
           "keyName": "CARGO_TYPE",
           "text": "货物类型",
           "titleAlign": "center"
          },
          "expanded": false,
          "children": [{
           "configs": {
            "itemId": "editor",
            "keyName": "CARGO_TYPE"
           },
           "expanded": false,
           "children": [],
           "type": "combo"
          }],
          "type": "column"
         },
         {
          "configs": {
           "itemId": "CNTR_TYPEmn151",
           "hidden": "true",
           "dataIndex": "CNTR_TYPE",
           "width": "80",
           "keyName": "CNTR_TYPE",
           "text": "箱型",
           "titleAlign": "center"
          },
          "expanded": false,
          "children": [{
           "configs": {
            "itemId": "editor",
            "keyName": "CNTR_TYPE"
           },
           "expanded": false,
           "children": [],
           "type": "combo"
          }],
          "type": "column"
         },
         {
          "configs": {
           "itemId": "colC_ADDRESS",
           "hidden": "true",
           "dataIndex": "C_ADDRESS",
           "width": "80",
           "keyName": "C_ADDRESS",
           "text": "地址",
           "titleAlign": "center"
          },
          "expanded": true,
          "children": [{
           "configs": {
            "itemId": "editor",
            "keyName": "C_ADDRESS"
           },
           "expanded": false,
           "children": [],
           "type": "combo"
          }],
          "type": "column"
         },
         {
          "configs": {
           "itemId": "colC_ADDRESS1",
           "dataIndex": "C_ADDRESS",
           "width": "80",
           "keyName": "C_ADDRESS",
           "text": "地址",
           "titleAlign": "center"
          },
          "expanded": true,
          "children": [{
           "configs": {
            "itemId": "editor",
            "displayField": "NAME",
            "valueField": "ID",
            "anyMatch": "true"
           },
           "expanded": true,
           "children": [{
            "configs": {
             "itemId": "store",
             "url": "m?xwl=feeManage/feeReportForXL/xltruckfeeEdit/selectAddress"
            },
            "expanded": false,
            "children": [],
            "type": "store"
           }],
           "type": "combo"
          }],
          "type": "column"
         },
         {
          "configs": {
           "itemId": "colC_ADDRESS2",
           "hidden": "false",
           "dataIndex": "AREA_CODE",
           "width": "80",
           "keyName": "C_AREA",
           "text": "区域",
           "titleAlign": "center"
          },
          "expanded": true,
          "children": [{
           "configs": {
            "itemId": "editor",
            "keyName": "C_AREA"
           },
           "expanded": false,
           "children": [],
           "type": "combo"
          }],
          "type": "column"
         },
         {
          "configs": {
           "itemId": "colPRICES",
           "dataIndex": "PRICES",
           "width": "60",
           "text": "费用",
           "align": "right",
           "titleAlign": "center"
          },
          "expanded": true,
          "children": [{
           "configs": {
            "itemId": "editor",
            "minValue": "0"
           },
           "expanded": false,
           "children": [],
           "type": "number"
          }],
          "type": "column"
         },
         {
          "configs": {
           "itemId": "colSHIPPER_COD",
           "dataIndex": "SHIPPER_COD",
           "width": "160",
           "keyName": "AG_CUSTOMER",
           "text": "货主",
           "titleAlign": "center"
          },
          "expanded": true,
          "children": [{
           "configs": {
            "tagConfigs": "matchFieldWidth: false",
            "itemId": "editor",
            "labelAlign": "right",
            "pageSize": "50",
            "displayField": "CNAME",
            "enterKeyTriggerClick": "true",
            "listConfig": "{width:250}",
            "valueField": "ID",
            "queryDelay": "500",
            "forceSelection": "true"
           },
           "expanded": true,
           "children": [{
            "configs": {
             "itemId": "store",
             "autoLoad": "true",
             "url": "m?xwl=system/common/client/clientSelect"
            },
            "expanded": false,
            "children": [],
            "type": "store"
           }],
           "type": "combo",
           "events": {"select": "var sel=app.grid1.getSelection();\
sel[0].set('SHIPPER',records[0].data.CNAME);"}
          }],
          "type": "column"
         },
         {
          "configs": {
           "itemId": "colSHIPPER",
           "hidden": "true",
           "dataIndex": "SHIPPER",
           "width": "160",
           "keyName": "AG_CUSTOMER",
           "text": "货主",
           "titleAlign": "center"
          },
          "expanded": true,
          "children": [{
           "configs": {
            "tagConfigs": "matchFieldWidth: false",
            "itemId": "editor",
            "labelAlign": "right",
            "pageSize": "50",
            "displayField": "CNAME",
            "enterKeyTriggerClick": "true",
            "listConfig": "{width:250}",
            "valueField": "ID",
            "queryDelay": "500",
            "forceSelection": "true",
            "multiSelect": "true"
           },
           "expanded": false,
           "children": [{
            "configs": {
             "itemId": "store",
             "autoLoad": "true",
             "url": "m?xwl=system/common/client/clientSelect"
            },
            "expanded": false,
            "children": [],
            "type": "store"
           }],
           "type": "combo"
          }],
          "type": "column"
         },
         {
          "configs": {
           "itemId": "colPAYER1",
           "dataIndex": "PAYER",
           "width": "70",
           "keyName": "AG_CUSTOMER",
           "text": "付费方",
           "titleAlign": "center"
          },
          "expanded": true,
          "children": [{
           "configs": {
            "itemId": "editor",
            "pickList": "[\
  ['货主', '货主'],\
  ['船公', '船公']\
]"
           },
           "expanded": false,
           "children": [],
           "type": "combo"
          }],
          "type": "column"
         },
         {
          "configs": {
           "itemId": "colFREE_PRICES",
           "dataIndex": "FREE_PRICES",
           "width": "80",
           "text": "减免后费用",
           "align": "right",
           "titleAlign": "center"
          },
          "expanded": true,
          "children": [{
           "configs": {
            "itemId": "editor",
            "minValue": "0"
           },
           "expanded": false,
           "children": [],
           "type": "number"
          }],
          "type": "column"
         },
         {
          "configs": {
           "itemId": "colENABLE_ID",
           "renderer": "if (value == '0') {\
  return '无效';\
} else if (value == '1') {\
  return '有效';\
} else {\
  return '无效';\
}",
           "dataIndex": "ENABLE_ID",
           "width": "60",
           "text": "有效",
           "titleAlign": "center"
          },
          "expanded": false,
          "children": [],
          "type": "column"
         },
         {
          "configs": {
           "itemId": "colCREATED_BY",
           "dataIndex": "CREATED_BY",
           "width": "70",
           "keyName": "WB_USER",
           "text": "创建人",
           "titleAlign": "center"
          },
          "expanded": false,
          "children": [],
          "type": "column"
         },
         {
          "configs": {
           "itemId": "colCREATED_ON",
           "dataIndex": "CREATED_ON",
           "width": "120",
           "text": "创建时间",
           "titleAlign": "center"
          },
          "expanded": false,
          "children": [],
          "type": "column"
         },
         {
          "configs": {
           "itemId": "colUPDATED_BY",
           "dataIndex": "UPDATED_BY",
           "width": "70",
           "keyName": "WB_USER",
           "text": "修改人",
           "titleAlign": "center"
          },
          "expanded": false,
          "children": [],
          "type": "column"
         },
         {
          "configs": {
           "itemId": "colUPDATED_ON",
           "dataIndex": "UPDATED_ON",
           "width": "120",
           "text": "修改时间",
           "titleAlign": "center"
          },
          "expanded": false,
          "children": [],
          "type": "column"
         }
        ],
        "type": "array"
       },
       {
        "configs": {
         "itemId": "tbar",
         "padding": "0,0,0,0",
         "normalName": "cntrTbar",
         "cls": "border-width:0px",
         "dock": "top"
        },
        "expanded": true,
        "children": [
         {
          "configs": {
           "itemId": "sdate",
           "hidden": "true",
           "labelAlign": "right",
           "fieldLabel": "开始时间",
           "width": "160",
           "labelWidth": "60"
          },
          "expanded": false,
          "children": [],
          "type": "date"
         },
         {
          "configs": {
           "itemId": "edate",
           "hidden": "true",
           "labelAlign": "right",
           "fieldLabel": "结束时间",
           "width": "160",
           "labelWidth": "60"
          },
          "expanded": false,
          "children": [],
          "type": "date"
         },
         {
          "configs": {
           "itemId": "tradeId",
           "labelAlign": "right",
           "fieldLabel": "内外贸",
           "keyName": "TRADE_ID",
           "width": "130",
           "labelWidth": "50"
          },
          "expanded": false,
          "children": [],
          "type": "combo"
         },
         {
          "configs": {
           "itemId": "address",
           "labelAlign": "right",
           "fieldLabel": "地址",
           "keyName": "C_ADDRESS",
           "width": "120",
           "labelWidth": "40"
          },
          "expanded": false,
          "children": [],
          "type": "combo"
         },
         {
          "configs": {
           "itemId": "payer",
           "labelAlign": "right",
           "pickList": "[\
  ['货主', '货主'],\
  ['船公司', '船公司']\
]",
           "fieldLabel": "付费方",
           "width": "130",
           "labelWidth": "50"
          },
          "expanded": false,
          "children": [],
          "type": "combo"
         },
         {
          "configs": {
           "itemId": "billNo",
           "hidden": "true",
           "fieldLabel": "提单号",
           "width": "160",
           "labelWidth": "55"
          },
          "expanded": false,
          "children": [],
          "type": "text",
          "events": {"specialkey": "app.seekMenu.fireEvent('click');"}
         },
         {
          "configs": {
           "itemId": "cntr",
           "hidden": "true",
           "labelAlign": "right",
           "fieldLabel": "箱号",
           "width": "140",
           "labelWidth": "40"
          },
          "expanded": false,
          "children": [],
          "type": "text",
          "events": {"specialkey": "app.seekMenu.fireEvent('click');"}
         },
         {
          "configs": {
           "itemId": "seekMenu",
           "text": "@Str.find",
           "iconCls": "search_icon"
          },
          "expanded": false,
          "children": [],
          "type": "item",
          "events": {"click": "// app.grid1.store.load({\
//   out:app.tbar\
// });\
\
app.grid1.store.load({\
  params: {\
    billNo: app.billNo.getValue(),\
    cntr: app.cntr.getValue(),\
    sdate: app.sdate.getValue(),\
    edate: app.edate.getValue(),\
    tradeId: app.tradeId.getValue(),\
    address: app.address.getValue(),\
    payer: app.payer.getValue()\
  }\
});"}
         },
         {
          "configs": {
           "itemId": "addadd",
           "tooltip": "增加新地址",
           "text": "增加",
           "iconCls": "record_add_icon"
          },
          "expanded": false,
          "children": [],
          "type": "button",
          "events": {"click": "Wb.addEdit(app.grid1, {\
  CREATED_ON: new Date(),\
  CREATED_BY: '{#sys.username#}',\
  UPDATED_ON: new Date(),\
  UPDATED_BY: '{#sys.username#}',\
  TENANCY_ID: '{#sys.TENANCY_ID#}',\
  P_ID: app.ids.getValue()\
});"}
         },
         {
          "configs": {
           "itemId": "deleteadd",
           "text": "删除",
           "iconCls": "record_delete_icon"
          },
          "expanded": true,
          "children": [],
          "type": "button",
          "events": {"click": "Wb.remove(app.grid1);"}
         },
         {
          "configs": {
           "itemId": "saveadd",
           "text": "保存",
           "iconCls": "save_icon"
          },
          "expanded": false,
          "children": [],
          "type": "button",
          "events": {"click": "if (!Wb.verifyGrid(app.grid1)) //验证数据是否合法\
  return;\
Wb.sync({\
  grid: app.grid1,\
  url: 'm?xwl=feeManage/feeReportForXL/xltruckfeeEdit/save',\
  message: '正在保存中...',\
  success: function(resp) {\
    //ID_FIELD值在后台生成，把返回的ID_FIELD值列表同步到表格中\
    Wb.syncCreate(app.grid1, Wb.decode(resp.responseText));\
  }\
});"}
         }
        ],
        "type": "toolbar"
       }
      ],
      "type": "grid",
      "events": {"itemclick": "\
// app.billGrid.store.load( { params:{CNTR_NO:record.get(\"CNTR\")}});\
"}
     }],
     "type": "panel"
    }
   ],
   "type": "viewport"
  }],
  "type": "module",
  "events": {"finalize": "var today = new Date();\
var year = today.getFullYear();\
var month = today.getMonth() + 1;\
var sdate = new Date(year + \"-\" + month + \"-01\");\
app.sdate.setValue(sdate);\
var days = new Date(year, month, 0).getDate(); //获取当前月份天数\
var edate = new Date(year + \"-\" + month + \"-\" + days);\
app.edate.setValue(edate);\
app.seekMenu.fireEvent('click');"}
 }],
 "roles": {
  "SCANJB": 1,
  "ZSINMP": 1,
  "basic": 1,
  "DCXK": 1,
  "xlnmc": 1
 },
 "title": "小榄拖车费率表",
 "iconCls": "",
 "inframe": false,
 "pageLink": ""
}