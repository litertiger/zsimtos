{
 "hidden": false,
 "children": [{
  "configs": {"itemId": "module"},
  "expanded": true,
  "children": [
   {
    "configs": {
     "itemId": "bbarp",
     "enableOverflow": "true",
     "hidden": "true",
     "style": "background:white;"
    },
    "expanded": true,
    "children": [
     {
      "configs": {
       "itemId": "btnpai",
       "width": "170",
       "text": "<span style='font-size:20px;font-weight:bold;'>派&nbsp;&nbsp;&nbsp;车(F8)<\/span>",
       "iconCls": "yellow-line-conveyor-belt_icon"
      },
      "expanded": false,
      "children": [],
      "type": "item",
      "events": {"click": "if (app.SHIPPER_WAY.getValue() == \"1\") {\
  app.S_ADRESS.allowBlank = false;\
  app.FEI_ADDDRESS.allowBlank = false;\
} else {\
  app.S_ADRESS.allowBlank = true;\
  app.FEI_ADDDRESS.allowBlank = true;\
}\
if (Wb.isEmpty(app.RID.getValue())) {\
  Wb.warn(\"请选择设备交接单\");\
  return;\
}\
if (!Wb.verify(app.panelForm)) {\
  return;\
}\
Wb.request({\
  url: 'm?xwl=truckManager/truckReceipt/receiptAddTruckedit/paiche',\
  out: app.panelForm,\
  success: function(resp) {\
    var result = Wb.decode(resp.responseText);\
    if (result.success) {\
      Wb.reset(app.panelForm);\
      app.searchRBtn.fireEvent(\"click\");\
      //       Wb.info(\"派车完成\");\
    } else {\
      Wb.error(result.errstr);\
    }\
  }\
});"}
     },
     {
      "configs": {
       "itemId": "btnreset",
       "width": "102",
       "text": "<span style='font-size:20px;font-weight:bold;'>重&nbsp;&nbsp;置<\/span>",
       "iconCls": "redo_icon"
      },
      "expanded": false,
      "children": [],
      "type": "item",
      "events": {"click": "Wb.reset(app.panelForm);"}
     }
    ],
    "type": "toolbar"
   },
   {
    "configs": {
     "layout": "border",
     "itemId": "viewport1"
    },
    "expanded": true,
    "children": [
     {
      "configs": {
       "layout": "border",
       "itemId": "northPanel",
       "region": "north",
       "height": "430"
      },
      "expanded": true,
      "children": [
       {
        "configs": {
         "itemId": "gridReceipt",
         "selType": "checkboxmodel",
         "region": "center"
        },
        "expanded": true,
        "children": [
         {
          "configs": {
           "itemId": "tbar",
           "enableOverflow": "true",
           "normalName": "ReceiptTbar",
           "region": "north"
          },
          "expanded": true,
          "children": [
           {
            "configs": {
             "itemId": "txtCNTR_NO_R",
             "labelAlign": "right",
             "fieldLabel": "箱号",
             "width": "140",
             "labelWidth": "40"
            },
            "expanded": true,
            "children": [],
            "type": "text",
            "events": {"specialkey": "if (e.getKey() == e.ENTER)\
  app.searchRBtn.fireEvent('click');"}
           },
           {
            "configs": {
             "itemId": "tbI_E_ID",
             "hidden": "true",
             "emptyText": "进出口",
             "keyName": "I_E_ID",
             "width": "60",
             "anyMatch": "true"
            },
            "expanded": false,
            "children": [],
            "type": "combo"
           },
           {
            "configs": {
             "itemId": "tbTRADE_ID",
             "hidden": "true",
             "emptyText": "内外贸",
             "keyName": "TRADE_ID",
             "width": "60",
             "anyMatch": "true"
            },
            "expanded": false,
            "children": [],
            "type": "combo"
           },
           {
            "configs": {
             "itemId": "tbWORK_TYPE",
             "emptyText": "作业类型",
             "keyName": "WORK_WAY",
             "width": "75",
             "anyMatch": "true"
            },
            "expanded": false,
            "children": [],
            "type": "combo"
           },
           {
            "configs": {
             "itemId": "tbsalary",
             "labelAlign": "right",
             "pickList": "[['0','未计件'],['1','已计件']]",
             "fieldLabel": "计件",
             "width": "105",
             "labelWidth": "40",
             "anyMatch": "true"
            },
            "expanded": false,
            "children": [],
            "type": "combo"
           },
           {
            "configs": {
             "itemId": "tbcheck",
             "labelAlign": "right",
             "pickList": "[['0','未审核'],['1','已审核']]",
             "fieldLabel": "审核",
             "width": "105",
             "labelWidth": "40",
             "anyMatch": "true"
            },
            "expanded": false,
            "children": [],
            "type": "combo"
           },
           {
            "configs": {
             "itemId": "tbPHASE",
             "hidden": "true",
             "pickList": "[\
  [\"\", \"全部\"],\
  [\"PLN\", \"未派车\"],\
  [\"EXE\", \"已派车\"],\
  [\"FIN\", \"完成\"],\
  [\"CNL\", \"取消\"],\
  [\"GET\", \"场内提箱\"],\
  [\"RTN\", \"场内还箱\"],\
  [\"OUT\", \"场外\"]\
]",
             "emptyText": "状态",
             "width": "80",
             "anyMatch": "true",
             "forceSelection": "true"
            },
            "expanded": false,
            "children": [],
            "type": "combo"
           },
           {
            "configs": {
             "itemId": "tbpdate",
             "labelAlign": "right",
             "fieldLabel": "开始日期",
             "width": "160",
             "labelWidth": "65"
            },
            "expanded": false,
            "children": [],
            "type": "date"
           },
           {
            "configs": {
             "itemId": "tbpdate1",
             "labelAlign": "right",
             "fieldLabel": "结束日期",
             "width": "160",
             "labelWidth": "65"
            },
            "expanded": false,
            "children": [],
            "type": "date"
           },
           {
            "configs": {
             "itemId": "cknotime",
             "boxLabel": "无时间",
             "hidden": "true"
            },
            "expanded": false,
            "children": [],
            "type": "check",
            "events": {"change": "if (newValue)\
  app.txtnotime.setValue(\"1\");\
else\
  app.txtnotime.setValue(\"0\");"}
           },
           {
            "configs": {
             "itemId": "cknocustomercode",
             "boxLabel": "无付费人"
            },
            "expanded": false,
            "children": [],
            "type": "check",
            "events": {"change": "if (newValue)\
  app.txtnocustomercode.setValue(\"1\");\
else\
  app.txtnocustomercode.setValue(\"0\");"}
           },
           {
            "configs": {
             "itemId": "txtnotime",
             "hidden": "true"
            },
            "expanded": false,
            "children": [],
            "type": "text"
           },
           {
            "configs": {
             "itemId": "txtnocustomercode",
             "hidden": "true"
            },
            "expanded": false,
            "children": [],
            "type": "text"
           },
           {
            "configs": {
             "itemId": "searchRBtn",
             "text": "@Str.find",
             "iconCls": "search_icon"
            },
            "expanded": true,
            "children": [],
            "type": "item",
            "events": {"click": "app.gridReceipt.store.load({\
  out: app.ReceiptTbar\
});\
app.WbtdGird.store.load({});\
// Wb.request({\
//   url: \"m?xwl=truckManager/truckReceipt/receiptAddTruckedit/selectCount\",\
//   params: {\
//     date: app.tbpdate.getRawValue(),\
//     tradeid: \"1\"\
//   },\
//   success: function(resp) {\
//     var res = Wb.decode(resp.responseText);\
//     if (res.length > 0) {\
// //       app.lblcount.setText(\"总数量:\" + res[0].ZONG + \", 未完成:\" + res[0].EXE + \", 已完成:\" + res[0].FIN);\
//     }\
//   }\
// });"}
           },
           {
            "configs": {
             "itemId": "accountBtn",
             "text": "计件",
             "iconCls": "write_icon"
            },
            "expanded": false,
            "children": [],
            "type": "item",
            "events": {"click": "// var sel = app.gridReceipt.getSelection();\
// if (Wb.isEmpty(sel)) {\
//   Wb.warn(\"请先选择设备交接单\");\
//   return;\
// }\
Wb.request({\
  url: \"m?xwl=truckManager/truckReceipt/DriverSalaryedit/callPTruckDriverWage\",\
  params: {\
    beginDate: app.tbpdate.getValue(),\
    endDate: app.tbpdate1.getValue()\
  },\
  success: function(resp) {\
    Wb.tip(\"计件成功\");\
    app.searchRBtn.fireEvent('click');\
    app.WbtdGird.store.load({});\
  }\
});"}
           },
           {
            "configs": {
             "itemId": "checkItem",
             "textAlign": "center",
             "text": "审核",
             "iconCls": "check_icon"
            },
            "expanded": false,
            "children": [],
            "type": "item",
            "events": {"click": "var rec = app.gridReceipt.getSelection();\
if (!rec[0]) {\
  Wb.warn(\"请至少选择一条需要审核的记录\");\
  return;\
}\
Wb.confirm(\"确定要审核这些数据吗?\",\
  function() {\
    var ids = \"(\";\
    Wb.each(rec, function(data, i) {\
      if (data.raw != null && data.raw != \"\") {\
        ids += \"'\" + data.raw.ID + \"',\";\
      }\
    });\
    ids = ids.substring(0, ids.length - 1) + \")\";\
    if (ids.length > 1) {\
      Wb.request({\
        url: \"m?xwl=truckManager/truckReceipt/DriverSalaryedit/updateCheckFlag\",\
        params: {\
          FROM_SOURCE_ID: ids\
        },\
        success: function() {\
          Wb.tip(\"保存成功!\");\
          app.searchRBtn.fireEvent('click');\
        }\
      });\
    }\
  });"}
           },
           {
            "configs": {
             "itemId": "checkItem1",
             "textAlign": "center",
             "text": "取消审核",
             "iconCls": "cancel_icon"
            },
            "expanded": false,
            "children": [],
            "type": "item",
            "events": {"click": "var rec = app.gridReceipt.getSelection();\
if (!rec[0]) {\
  Wb.warn(\"请至少选择一条需要审核的记录\");\
  return;\
}\
Wb.confirm(\"确定要取消审核这些数据吗?\",\
  function() {\
    var ids = \"(\";\
    Wb.each(rec, function(data, i) {\
      if (data.raw != null && data.raw != \"\") {\
        ids += \"'\" + data.raw.ID + \"',\";\
      }\
    });\
    ids = ids.substring(0, ids.length - 1) + \")\";\
    if (ids.length > 1) {\
      Wb.request({\
        url: \"m?xwl=truckManager/truckReceipt/DriverSalaryedit/deleteCheckFlag\",\
        params: {\
          FROM_SOURCE_ID: ids\
        },\
        success: function() {\
          Wb.tip(\"保存成功!\");\
          app.searchRBtn.fireEvent('click');\
        }\
      });\
    }\
  });"}
           },
           {
            "configs": {
             "itemId": "item1",
             "text": "->"
            },
            "expanded": true,
            "children": [],
            "type": "item"
           },
           {
            "configs": {"itemId": "lblcount"},
            "expanded": false,
            "children": [],
            "type": "label"
           }
          ],
          "type": "toolbar"
         },
         {
          "configs": {
           "itemId": "store",
           "url": "m?xwl=truckManager/truckReceipt/DriverSalaryedit/selectReceipt"
          },
          "expanded": true,
          "children": [],
          "type": "store"
         },
         {
          "configs": {"itemId": "columns"},
          "expanded": true,
          "children": [
           {
            "configs": {
             "itemId": "column1",
             "xtype": "rownumberer"
            },
            "expanded": false,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colPHASE",
             "renderer": "if (value == \"PLN\")\
  return \"未派车\";\
if (value == \"EXE\")\
  return \"已派车\";\
if (value == \"FIN\")\
  return \"完成\";\
if (value == \"CNL\")\
  return \"取消\";\
if (value == \"GET\")\
  return \"场内提箱\";\
if (value == \"RTN\")\
  return \"场内还箱\";\
if (value == \"OUT\")\
  return \"场外\";",
             "dataIndex": "PHASE",
             "width": "40",
             "text": "状态"
            },
            "expanded": false,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "chargeflag",
             "renderer": "if(value=='0'||value==null)\
  return '未计费';\
else if(value=='1')\
  return '已计费';\
else \
  return \"未计费\";",
             "dataIndex": "CHARGEFLAG",
             "width": "65",
             "text": "计费标志",
             "titleAlign": "center"
            },
            "expanded": false,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "wcheckFlag",
             "renderer": "if(value == 1){\
  return \"已审核\";\
}else if(value ==0){\
  return \"未审核\";\
}else if(value ==2){\
  return \"部分审核\";\
}",
             "dataIndex": "WCHECK_FLAG",
             "width": "65",
             "text": "审核标志",
             "titleAlign": "center"
            },
            "expanded": false,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colCNTR",
             "dataIndex": "CNTR",
             "text": "箱号"
            },
            "expanded": false,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colCNTR_SIZE",
             "dataIndex": "CNTR_SIZE",
             "keyName": "CNTR_SIZE",
             "width": "50",
             "text": "箱尺寸"
            },
            "expanded": false,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colIN_DRIVER",
             "dataIndex": "IN_DRIVER",
             "width": "70",
             "text": "去程司机"
            },
            "expanded": false,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colOUT_DRIVER",
             "dataIndex": "OUT_DRIVER",
             "width": "70",
             "text": "返程司机"
            },
            "expanded": false,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colS_ADDRESS",
             "dataIndex": "S_ADDRESS",
             "width": "70",
             "text": "交货地址"
            },
            "expanded": false,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colFEI_ADDDRESS",
             "dataIndex": "FEI_ADDDRESS",
             "width": "70",
             "text": "计费区域"
            },
            "expanded": false,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colAMOUNT",
             "dataIndex": "AMOUNT",
             "width": "60",
             "text": "费用",
             "align": "right",
             "titleAlign": "center"
            },
            "expanded": false,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colPT_TYPE",
             "dataIndex": "PT_TYPE",
             "keyName": "PT_TYPE",
             "width": "110",
             "text": "派车方式"
            },
            "expanded": false,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colGATEOUT_TIME_T",
             "dataIndex": "GATEOUT_TIME_T",
             "width": "120",
             "text": "出门时间"
            },
            "expanded": false,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colGATEIN_TIME_S",
             "dataIndex": "GATEIN_TIME_S",
             "width": "120",
             "text": "进门时间"
            },
            "expanded": false,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colBILL_NO",
             "dataIndex": "BILL_NO",
             "text": "提单号"
            },
            "expanded": false,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "solYARD_POSITION",
             "hidden": "true",
             "dataIndex": "YARD_POSITION",
             "width": "80",
             "text": "箱位"
            },
            "expanded": false,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colSHIPPER_CONSIGNEE",
             "dataIndex": "SHIPPER_CONSIGNEE",
             "width": "220",
             "text": "货主"
            },
            "expanded": false,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colCUSTOMER_NAME",
             "dataIndex": "CUSTOMER_NAME",
             "width": "220",
             "text": "付费人"
            },
            "expanded": false,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colWORK_TYPE",
             "dataIndex": "WORK_TYPE",
             "keyName": "WORK_WAY",
             "width": "80",
             "text": "作业方式"
            },
            "expanded": false,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "solPLAN_STIME",
             "dataIndex": "PLAN_STIME",
             "width": "120",
             "text": "计划送货时间"
            },
            "expanded": false,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colCNTR_OPERATOR_COD",
             "dataIndex": "CNTR_OPERATOR_COD",
             "keyName": "AG_SHORT",
             "width": "60",
             "text": "船公司"
            },
            "expanded": false,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colCNTR_TYPE",
             "dataIndex": "CNTR_TYPE",
             "keyName": "CNTR_TYPE",
             "width": "66",
             "text": "箱型"
            },
            "expanded": true,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colNOTES",
             "dataIndex": "NOTES",
             "text": "备注"
            },
            "expanded": false,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colCNTR_ISO",
             "dataIndex": "CNTR_ISO",
             "width": "66",
             "text": "箱ISO"
            },
            "expanded": false,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colCMDY_CODE",
             "dataIndex": "CMDY_CODE",
             "text": "货名"
            },
            "expanded": false,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colT_ADDRESS",
             "dataIndex": "T_ADDRESS",
             "width": "100",
             "keyName": "C_CFS",
             "text": "提箱地点"
            },
            "expanded": false,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colF_ADDRESS",
             "dataIndex": "F_ADDRESS",
             "width": "100",
             "keyName": "C_CFS",
             "text": "返场地址"
            },
            "expanded": false,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colCREATED_ON",
             "dataIndex": "CREATED_ON",
             "width": "120",
             "text": "创建时间"
            },
            "expanded": false,
            "children": [],
            "type": "column"
           },
           {
            "configs": {
             "itemId": "colPC_BY",
             "dataIndex": "PC_BY",
             "keyName": "WB_USER",
             "text": "派车人"
            },
            "expanded": false,
            "children": [],
            "type": "column"
           }
          ],
          "type": "array"
         }
        ],
        "type": "grid",
        "events": {"itemclick": "var nature = \"{#sys.NATURE#}\";\
var customcode = \"{#sys.GOV_CODE#}\";\
console.log(record.data.ID);\
console.log(record.raw.ID);\
app.WbtdGird.store.load({ //加载对应托运费的\
  params: {\
    FROM_SOURCE_ID: record.raw.ID\
  }\
});\
Wb.setValue(app.panelForm, record.data);\
app.RID.setValue(record.data.ID);\
app.RID1.store.load({\
  callback: function(r, options, success) { //r:返回的数据,r.length,r[0].data.属性 success:是否回调成功,true,false\
    if (success) {\
      app.RID1.setValue(record.data.RID1);\
    }\
  }\
});\
app.IN_CAR.store.load({\
  callback: function(r, options, success) {\
    if (success) {\
      app.IN_CAR.setValue(record.data.IN_CAR);\
    }\
  }\
});\
app.IN_CAMPI.store.load({\
  callback: function(r, options, success) {\
    if (success) {\
      app.IN_CAMPI.setValue(record.data.IN_CAMPI);\
    }\
  }\
});\
app.IN_DRIVER_ID.store.load({\
  callback: function(r, options, success) {\
    if (success) {\
      app.IN_DRIVER_ID.setValue(record.data.IN_DRIVER_ID);\
    }\
  }\
});\
app.OUT_CAR.store.load({\
  callback: function(r, options, success) {\
    if (success) {\
      app.OUT_CAR.setValue(record.data.OUT_CAR);\
    }\
  }\
});\
app.OUT_CAMPI.store.load({\
  callback: function(r, options, success) {\
    if (success) {\
      app.OUT_CAMPI.setValue(record.data.OUT_CAMPI);\
    }\
  }\
});\
app.OUT_DRIVER_ID.store.load({\
  callback: function(r, options, success) {\
    if (success) {\
      app.OUT_DRIVER_ID.setValue(record.data.OUT_DRIVER_ID);\
    }\
  }\
});\
// if (record.data.PHASE == 'OUT') { //转关设备交接单\
//   app.IN_CAR.setReadOnly(true);\
//   app.IN_CAMPI.setReadOnly(true);\
//   app.IN_DRIVER_ID.setReadOnly(true);\
//   app.OUT_CAR.setReadOnly(false);\
//   app.OUT_CAMPI.setReadOnly(true);\
//   app.OUT_DRIVER_ID.setReadOnly(false);\
//   app.S_ADRESS.setReadOnly(true);\
//   app.FEI_ADDDRESS.setReadOnly(true);\
//   app.CAR_TEAM.setReadOnly(true);\
//   app.SHIPPER_WAY.setReadOnly(true);\
//   app.SHUN_INVERSE.setReadOnly(true);\
//   app.RID1.setReadOnly(true);\
// //   app.btnpai.setDisabled(false);\
// } else if (record.data.PHASE == 'PLN' || record.data.PHASE == 'EXE') {\
//   if (record.data.CNTR_SIZE == \"20\")\
//     app.RID1.setReadOnly(false);\
//   else\
//     app.RID1.setReadOnly(true);\
//   if (record.data.WORK_TYPE == \"FITC\" || record.data.WORK_TYPE == \"EITC\") {\
//     app.IN_CAR.setReadOnly(true);\
//     app.IN_CAMPI.setReadOnly(true);\
//     app.IN_DRIVER_ID.setReadOnly(true);\
//     app.OUT_CAMPI.setReadOnly(false);\
//   } else {\
//     app.IN_CAR.setReadOnly(false);\
//     app.IN_CAMPI.setReadOnly(false);\
//     app.IN_DRIVER_ID.setReadOnly(false);\
//     app.OUT_CAMPI.setReadOnly(true);\
//   }\
//   app.OUT_CAR.setReadOnly(false);\
//   app.OUT_DRIVER_ID.setReadOnly(false);\
//   app.S_ADRESS.setReadOnly(false);\
//   app.FEI_ADDDRESS.setReadOnly(false);\
//   if (nature != \"5\" && nature != \"6\") {\
//     app.CAR_TEAM.setReadOnly(false);\
//     app.SHIPPER_WAY.setReadOnly(true);\
//   } else if (nature == \"5\") {\
//     if (record.data.CNTR_OPERATOR_COD == customcode) {\
//       app.CAR_TEAM.setReadOnly(false);\
//       app.SHIPPER_WAY.setReadOnly(false);\
//     }\
//   } else if (nature == \"6\") {\
//     app.CAR_TEAM.setReadOnly(true);\
//     app.SHIPPER_WAY.setReadOnly(true);\
//   }\
//   app.SHUN_INVERSE.setReadOnly(false);\
// //   app.btnpai.setDisabled(false);\
// } else {\
//   app.IN_CAR.setReadOnly(true);\
//   app.IN_CAMPI.setReadOnly(true);\
//   app.IN_DRIVER_ID.setReadOnly(true);\
//   app.OUT_CAR.setReadOnly(true);\
//   app.OUT_CAMPI.setReadOnly(true);\
//   app.OUT_DRIVER_ID.setReadOnly(true);\
//   app.S_ADRESS.setReadOnly(true);\
//   app.FEI_ADDDRESS.setReadOnly(true);\
//   app.CAR_TEAM.setReadOnly(true);\
//   app.SHIPPER_WAY.setReadOnly(true);\
//   app.SHUN_INVERSE.setReadOnly(true);\
//   app.RID1.setReadOnly(true);\
//   app.btnpai.setDisabled(true);\
// }"}
       },
       {
        "configs": {
         "layout": "@{type:'table',columns:1}",
         "itemId": "panelForm",
         "defaults": "{\
  labelWidth: 80,\
  width: 260,\
  margin: '6 0 0 0'\
}",
         "hidden": "true",
         "width": "280",
         "region": "east",
         "title": "派车信息"
        },
        "expanded": false,
        "children": [
         {
          "configs": {
           "itemId": "RID",
           "hidden": "true",
           "labelAlign": "right",
           "fieldLabel": "RID",
           "readOnly": "true"
          },
          "expanded": false,
          "children": [],
          "type": "text"
         },
         {
          "configs": {
           "itemId": "CNTR",
           "labelAlign": "right",
           "fieldLabel": "箱号",
           "readOnly": "true"
          },
          "expanded": false,
          "children": [],
          "type": "text"
         },
         {
          "configs": {
           "itemId": "SHIPPER_WAY",
           "labelAlign": "right",
           "pickList": "[\
  [1, \"码头承运\"],\
  [3, \"驳船承运\"]\
]",
           "fieldLabel": "承运方式",
           "readOnly": "true",
           "forceSelection": "true"
          },
          "expanded": true,
          "children": [],
          "type": "combo"
         },
         {
          "configs": {
           "itemId": "RID1",
           "labelAlign": "right",
           "fieldLabel": "双托",
           "displayField": "CNTR",
           "isUpperCase": "true",
           "readOnly": "true",
           "valueField": "ID",
           "queryDelay": "200",
           "forceSelection": "true"
          },
          "expanded": true,
          "children": [{
           "configs": {
            "itemId": "store",
            "autoLoad": "true",
            "pageSize": "-1",
            "url": "m?xwl=truckManager/truckReceipt/receiptAddTruckedit1/selectReceipt1"
           },
           "expanded": false,
           "children": [],
           "type": "store"
          }],
          "type": "combo",
          "events": {"specialkey": "if (e.getKey() == e.ENTER) {\
  if (!combo.isExpanded) //判断combo不展开才切换焦点\
    app.IN_CAR.focus();\
}"}
         },
         {
          "configs": {
           "tagConfigs": "matchFieldWidth: false",
           "itemId": "IN_CAR",
           "tpl": "<table cellspacing='0' width='100%'>\
  <tr>\
    <td width='20%'>\
      编号\
    <\/td>\
    <td width='20%'>\
      车牌\
    <\/td>\
    <td width='60%'>\
      车队\
    <\/td>\
  <\/tr>\
  <tpl for='.'>\
    <tr class='x-boundlist-item' >\
      <td>\
        {TRUCK_NO}\
      <\/td>\
      <td>\
        {PLAT_NO}\
      <\/td>\
      <td>\
        {NAME}\
      <\/td>\
    <\/tr>\
  <\/tpl>\
<\/table>",
           "labelAlign": "right",
           "fieldLabel": "车头",
           "isUpperCase": "true",
           "displayField": "TRUCK_NO",
           "readOnly": "true",
           "listConfig": "{\
  width: 400\
}",
           "valueField": "TRUCK_NO",
           "queryDelay": "200",
           "forceSelection": "true"
          },
          "expanded": false,
          "children": [{
           "configs": {
            "itemId": "store",
            "autoLoad": "true",
            "pageSize": "-1",
            "url": "m?xwl=truckManager/truckReceipt/receiptAddTruckedit/loadTruck"
           },
           "expanded": false,
           "children": [],
           "type": "store"
          }],
          "type": "combo",
          "events": {
           "specialkey": "if (e.getKey() == e.ENTER) {\
  if (!combo.isExpanded) //判断combo不展开才切换焦点\
    app.IN_CAMPI.focus();\
}",
           "select": "if (Wb.isEmpty(app.SHIPPER_WAY.getValue())) {\
  Wb.warn(\"派车前先选择承运方式\");\
  return;\
}\
Wb.request({\
  url: \"m?xwl=truckManager/truckReceipt/receiptAddTruckedit/selectT\",\
  params: {\
    truckno: combo.getValue()\
  },\
  success: function(resp) {\
    var result = Wb.decode(resp.responseText);\
    app.IN_CAR_HP.setValue(result.rows[0].PLAT_NO);\
    app.IN_CAMPI.setValue(result.rows[0].TRAY_NO);\
    app.IN_TRAY_NO.setValue(result.rows[0].TRAY_NO);\
    app.IN_DRIVER_ID.setValue(result.rows[0].TRUCKER_NO);\
    app.IN_DRIVER_NAME.setValue(result.rows[0].TRUCKER_NAM);\
    app.OUT_CAR.setValue(combo.getValue());\
    app.OUT_CAR_HP.setValue(result.rows[0].PLAT_NO);\
    app.OUT_CAMPI.setValue(result.rows[0].TRAY_NO);\
    app.OUT_TRAY_NO.setValue(result.rows[0].TRAY_NO);\
    app.OUT_DRIVER_ID.setValue(result.rows[0].TRUCKER_NO);\
    app.OUT_DRIVER_NAME.setValue(result.rows[0].TRUCKER_NAM);\
    app.pt_type();\
  }\
});",
           "blur": "// if (!Wb.isEmpty(combo.getValue())) {\
//   Wb.request({\
//     url: \"m?xwl=truckManager/truckReceipt/receiptAddTruckedit/ckTruck\",\
//     params: {\
//       truckno: combo.getValue()\
//     },\
//     success: function(resp) {\
//       var res = Wb.decode(resp.responseText);\
//       if (!res.success) {\
//         Wb.warn(res.msg);\
//         app.IN_CAR.setValue(\"\");\
//         app.IN_CAR_HP.setValue(\"\");\
//         app.IN_CAMPI.setValue(\"\");\
//         app.IN_TRAY_NO.setValue(\"\");\
//         app.IN_DRIVER_ID.setValue(\"\");\
//         app.IN_DRIVER_NAME.setValue(\"\");\
//         app.OUT_CAR.setValue(\"\");\
//         app.OUT_CAR_HP.setValue(\"\");\
//         app.OUT_CAMPI.setValue(\"\");\
//         app.OUT_TRAY_NO.setValue(\"\");\
//         app.OUT_DRIVER_ID.setValue(\"\");\
//         app.OUT_DRIVER_NAME.setValue(\"\");\
//       }\
//     }\
//   });\
// }"
          }
         },
         {
          "configs": {
           "itemId": "IN_CAR_HP",
           "hidden": "true",
           "labelAlign": "right",
           "fieldLabel": "车牌号",
           "readOnly": "true"
          },
          "expanded": false,
          "children": [],
          "type": "text"
         },
         {
          "configs": {
           "itemId": "IN_CAMPI",
           "tpl": "<table cellspacing='0' width='100%'>\
  <tr>\
    <td>\
      编号\
    <\/td>\
    <td>\
      拖卡\
    <\/td>\
  <\/tr>\
  <tpl for='.'>\
    <tr class='x-boundlist-item' >\
      <td >\
        {TRAY_NO}\
      <\/td>\
      <td>\
        {TRAY_NAM}\
      <\/td>\
    <\/tr>\
  <\/tpl>\
<\/table>",
           "labelAlign": "right",
           "fieldLabel": "拖卡",
           "displayField": "TRAY_NO",
           "isUpperCase": "true",
           "readOnly": "true",
           "valueField": "TRAY_NO",
           "queryDelay": "200",
           "forceSelection": "true"
          },
          "expanded": false,
          "children": [{
           "configs": {
            "itemId": "store",
            "autoLoad": "true",
            "pageSize": "-1",
            "url": "m?xwl=truckManager/truckReceipt/receiptAddTruckedit/loadTray"
           },
           "expanded": false,
           "children": [],
           "type": "store"
          }],
          "type": "combo",
          "events": {
           "specialkey": "if (e.getKey() == e.ENTER) {\
  if (!combo.isExpanded) //判断combo不展开才切换焦点\
    app.IN_DRIVER_ID.focus();\
}",
           "select": "app.OUT_CAMPI.setValue(combo.getValue());\
app.IN_TRAY_NO.setValue(combo.getValue());\
app.OUT_TRAY_NO.setValue(combo.getValue());",
           "blur": "// if (!Wb.isEmpty(combo.getValue())) {\
//   Wb.request({\
//     url: \"m?xwl=truckManager/truckReceipt/receiptAddTruckedit/ckTray\",\
//     params: {\
//       trayno: combo.getValue()\
//     },\
//     success: function(resp) {\
//       var res = Wb.decode(resp.responseText);\
//       if (res.rows.length < 1) {\
//         Wb.warn(\"系统中没有找到拖卡:\" + combo.getValue());\
//         app.IN_CAMPI.setValue(\"\");\
//         app.IN_TRAY_NO.setValue(\"\");\
//         app.OUT_CAMPI.setValue(\"\");\
//         app.OUT_TRAY_NO.setValue(\"\");\
//       }\
//     }\
//   });\
// }"
          }
         },
         {
          "configs": {
           "itemId": "IN_TRAY_NO",
           "hidden": "true",
           "labelAlign": "right",
           "fieldLabel": "拖卡号",
           "readOnly": "true"
          },
          "expanded": false,
          "children": [],
          "type": "text"
         },
         {
          "configs": {
           "itemId": "IN_DRIVER_ID",
           "labelAlign": "right",
           "fieldLabel": "司机",
           "displayField": "EMPNAME",
           "readOnly": "true",
           "valueField": "EMPNO",
           "queryDelay": "200",
           "forceSelection": "true"
          },
          "expanded": true,
          "children": [{
           "configs": {
            "itemId": "store",
            "autoLoad": "true",
            "pageSize": "-1",
            "url": "m?xwl=truckManager/truckReceipt/receiptAddTruckedit/loadDriver"
           },
           "expanded": false,
           "children": [],
           "type": "store"
          }],
          "type": "combo",
          "events": {
           "specialkey": "if (e.getKey() == e.ENTER) {\
  if (!combo.isExpanded) //判断combo不展开才切换焦点\
    app.OUT_CAR.focus();\
}",
           "select": "app.OUT_DRIVER_ID.setValue(combo.getValue());\
app.IN_DRIVER_NAME.setValue(combo.getRawValue());\
app.OUT_DRIVER_NAME.setValue(combo.getRawValue());",
           "blur": "// if (!Wb.isEmpty(combo.getValue())) {\
//   Wb.request({\
//     url: \"m?xwl=truckManager/truckReceipt/receiptAddTruckedit/ckDriver\",\
//     params: {\
//       empno: combo.getValue()\
//     },\
//     success: function(resp) {\
//       var res = Wb.decode(resp.responseText);\
//       if (res.rows.length < 1) {\
//         Wb.warn(\"系统中没有找到司机:\" + combo.getValue());\
//         app.IN_DRIVER_ID.setValue(\"\");\
//         app.OUT_DRIVER_ID.setValue(\"\");\
//         app.IN_DRIVER_NAME.setValue(\"\");\
//         app.OUT_DRIVER_NAME.setValue(\"\");\
//       }\
//     }\
//   });\
// }"
          }
         },
         {
          "configs": {
           "itemId": "IN_DRIVER_NAME",
           "hidden": "true",
           "labelAlign": "right",
           "fieldLabel": "司机名",
           "readOnly": "true"
          },
          "expanded": false,
          "children": [],
          "type": "text"
         },
         {
          "configs": {
           "tagConfigs": "matchFieldWidth: false",
           "itemId": "OUT_CAR",
           "tpl": "<table cellspacing='0' width='100%'>\
  <tr>\
    <td width='20%'>\
      编号\
    <\/td>\
    <td width='20%'>\
      车牌\
    <\/td>\
    <td width='60%'>\
      车队\
    <\/td>\
  <\/tr>\
  <tpl for='.'>\
    <tr class='x-boundlist-item' >\
      <td>\
        {TRUCK_NO}\
      <\/td>\
      <td>\
        {PLAT_NO}\
      <\/td>\
      <td>\
        {NAME}\
      <\/td>\
    <\/tr>\
  <\/tpl>\
<\/table>",
           "labelAlign": "right",
           "fieldLabel": "回程车头",
           "isUpperCase": "true",
           "displayField": "TRUCK_NO",
           "readOnly": "true",
           "listConfig": "{\
  width: 400\
}",
           "valueField": "TRUCK_NO",
           "queryDelay": "200",
           "forceSelection": "true"
          },
          "expanded": false,
          "children": [{
           "configs": {
            "itemId": "store",
            "autoLoad": "true",
            "pageSize": "-1",
            "url": "m?xwl=truckManager/truckReceipt/receiptAddTruckedit/loadTruck"
           },
           "expanded": false,
           "children": [],
           "type": "store"
          }],
          "type": "combo",
          "events": {
           "specialkey": "if (e.getKey() == e.ENTER) {\
  if (!combo.isExpanded) //判断combo不展开才切换焦点\
    app.OUT_CAMPI.focus();\
}",
           "select": "// Wb.request({\
//   url: \"m?xwl=truckManager/truckReceipt/receiptAddTruckedit/ckTruck\",\
//   params: {\
//     truckno: combo.getValue()\
//   },\
//   success: function(resp) {\
//     var res = Wb.decode(resp.responseText);\
//     if (!res.success) {\
//       Wb.warn(res.msg);\
//       app.IN_CAR.setValue(\"\");\
//     } else {\
Wb.request({\
  url: \"m?xwl=truckManager/truckReceipt/receiptAddTruckedit/selectT\",\
  params: {\
    truckno: combo.getValue()\
  },\
  success: function(resp) {\
    var result = Wb.decode(resp.responseText);\
    app.IN_CAR_HP.setValue(result.rows[0].PLAT_NO);\
    app.IN_CAMPI.setValue(result.rows[0].TRAY_NO);\
    app.IN_TRAY_NO.setValue(result.rows[0].TRAY_NO);\
    app.IN_DRIVER_ID.setValue(result.rows[0].TRUCKER_NO);\
    app.IN_DRIVER_NAME.setValue(result.rows[0].TRUCKER_NAM);\
    app.OUT_CAR.setValue(combo.getValue());\
    app.OUT_CAR_HP.setValue(result.rows[0].PLAT_NO);\
    app.OUT_CAMPI.setValue(result.rows[0].TRAY_NO);\
    app.OUT_TRAY_NO.setValue(result.rows[0].TRAY_NO);\
    app.OUT_DRIVER_ID.setValue(result.rows[0].TRUCKER_NO);\
    app.OUT_DRIVER_NAME.setValue(result.rows[0].TRUCKER_NAM);\
  }\
});\
//     }\
//   }\
// });",
           "blur": "// if (!Wb.isEmpty(combo.getValue())) {\
//   Wb.request({\
//     url: \"m?xwl=truckManager/truckReceipt/receiptAddTruckedit/ckTruck\",\
//     params: {\
//       truckno: combo.getValue()\
//     },\
//     success: function(resp) {\
//       var res = Wb.decode(resp.responseText);\
//       if (!res.success) {\
//         Wb.warn(res.msg);\
//         app.IN_CAR.setValue(\"\");\
//         app.IN_CAR_HP.setValue(\"\");\
//         app.IN_CAMPI.setValue(\"\");\
//         app.IN_TRAY_NO.setValue(\"\");\
//         app.IN_DRIVER_ID.setValue(\"\");\
//         app.IN_DRIVER_NAME.setValue(\"\");\
//         app.OUT_CAR.setValue(\"\");\
//         app.OUT_CAR_HP.setValue(\"\");\
//         app.OUT_CAMPI.setValue(\"\");\
//         app.OUT_TRAY_NO.setValue(\"\");\
//         app.OUT_DRIVER_ID.setValue(\"\");\
//         app.OUT_DRIVER_NAME.setValue(\"\");\
//       }\
//     }\
//   });\
// }"
          }
         },
         {
          "configs": {
           "itemId": "OUT_CAR_HP",
           "hidden": "true",
           "labelAlign": "right",
           "fieldLabel": "车牌号",
           "readOnly": "true"
          },
          "expanded": false,
          "children": [],
          "type": "text"
         },
         {
          "configs": {
           "itemId": "OUT_CAMPI",
           "tpl": "<table cellspacing='0' width='100%'>\
  <tr>\
    <td>\
      编号\
    <\/td>\
    <td>\
      拖卡\
    <\/td>\
  <\/tr>\
  <tpl for='.'>\
    <tr class='x-boundlist-item' >\
      <td >\
        {TRAY_NO}\
      <\/td>\
      <td>\
        {TRAY_NAM}\
      <\/td>\
    <\/tr>\
  <\/tpl>\
<\/table>",
           "labelAlign": "right",
           "fieldLabel": "回程拖卡",
           "displayField": "TRAY_NO",
           "isUpperCase": "true",
           "readOnly": "true",
           "valueField": "TRAY_NO",
           "queryDelay": "200",
           "forceSelection": "true"
          },
          "expanded": false,
          "children": [{
           "configs": {
            "itemId": "store",
            "autoLoad": "true",
            "pageSize": "-1",
            "url": "m?xwl=truckManager/truckReceipt/receiptAddTruckedit/loadTray"
           },
           "expanded": false,
           "children": [],
           "type": "store"
          }],
          "type": "combo",
          "events": {
           "specialkey": "if (e.getKey() == e.ENTER) {\
  if (!combo.isExpanded) //判断combo不展开才切换焦点\
    app.OUT_DRIVER_ID.focus();\
}",
           "select": "app.OUT_CAMPI.setValue(combo.getValue());\
app.OUT_TRAY_NO.setValue(combo.getValue());"
          }
         },
         {
          "configs": {
           "itemId": "OUT_TRAY_NO",
           "hidden": "true",
           "labelAlign": "right",
           "fieldLabel": "拖卡号",
           "readOnly": "true"
          },
          "expanded": false,
          "children": [],
          "type": "text"
         },
         {
          "configs": {
           "itemId": "OUT_DRIVER_ID",
           "labelAlign": "right",
           "fieldLabel": "回程司机",
           "displayField": "EMPNAME",
           "readOnly": "true",
           "valueField": "EMPNO",
           "queryDelay": "200",
           "forceSelection": "true"
          },
          "expanded": false,
          "children": [{
           "configs": {
            "itemId": "store",
            "autoLoad": "true",
            "pageSize": "-1",
            "url": "m?xwl=truckManager/truckReceipt/receiptAddTruckedit/loadDriver"
           },
           "expanded": false,
           "children": [],
           "type": "store"
          }],
          "type": "combo",
          "events": {
           "specialkey": "if (e.getKey() == e.ENTER) {\
  if (!combo.isExpanded) //判断combo不展开才切换焦点\
    app.S_ADRESS.focus();\
}",
           "select": "app.OUT_DRIVER_NAME.setValue(combo.getRawValue());"
          }
         },
         {
          "configs": {
           "itemId": "OUT_DRIVER_NAME",
           "hidden": "true",
           "labelAlign": "right",
           "fieldLabel": "司机名",
           "readOnly": "true",
           "disabled": "true"
          },
          "expanded": false,
          "children": [],
          "type": "text"
         },
         {
          "configs": {
           "tagConfigs": "matchFieldWidth: false",
           "itemId": "S_ADRESS",
           "tpl": "<table cellspacing='0' width='100%'>\
  <tr>\
    <td>\
      地址\
    <\/td>\
    <td>\
      距离\
    <\/td>\
    <td>\
      区域\
    <\/td>\
  <\/tr>\
  <tpl for='.'>\
    <tr class='x-boundlist-item' >\
      <td >\
        {NAME}\
      <\/td>\
      <td>\
        {DISTANCE}\
      <\/td>\
      <td>\
        {AREANAME}\
      <\/td>\
    <\/tr>\
  <\/tpl>\
<\/table>",
           "labelAlign": "right",
           "fieldLabel": "交货地址",
           "displayField": "NAME",
           "readOnly": "true",
           "listConfig": "{\
  width: 300\
}",
           "valueField": "ID",
           "forceSelection": "true"
          },
          "expanded": true,
          "children": [{
           "configs": {
            "itemId": "store",
            "autoLoad": "true",
            "pageSize": "-1",
            "url": "m?xwl=receiptInout/receipt/receiptedit/selectADRESS"
           },
           "expanded": false,
           "children": [],
           "type": "store"
          }],
          "type": "combo",
          "events": {
           "specialkey": "if (e.getKey() == e.ENTER) {\
  if (!combo.isExpanded) //判断combo不展开才切换焦点\
    app.CAR_TEAM.focus();\
}",
           "select": "app.FEI_ADDDRESS.setValue(records[0].data.ARID);"
          }
         },
         {
          "configs": {
           "itemId": "FEI_ADDDRESS",
           "labelAlign": "right",
           "fieldLabel": "计费区域",
           "keyName": "C_AREA",
           "pageSize": "-1",
           "readOnly": "true",
           "forceSelection": "true"
          },
          "expanded": true,
          "children": [],
          "type": "combo"
         },
         {
          "configs": {
           "itemId": "CAR_TEAM",
           "labelAlign": "right",
           "fieldLabel": "车队",
           "displayField": "CNAME",
           "readOnly": "true",
           "valueField": "ID",
           "forceSelection": "true"
          },
          "expanded": false,
          "children": [{
           "configs": {
            "itemId": "store",
            "autoLoad": "true",
            "pageSize": "-1",
            "url": "m?xwl=receiptInout/receipt/receiptedit/selectCarTeam"
           },
           "expanded": false,
           "children": [],
           "type": "store"
          }],
          "type": "combo",
          "events": {"specialkey": "if (e.getKey() == e.ENTER) {\
  if (!combo.isExpanded) //判断combo不展开才切换焦点\
    app.SHUN_INVERSE.focus();\
}"}
         },
         {
          "configs": {
           "itemId": "PT_TYPE",
           "labelAlign": "right",
           "fieldLabel": "车辆性质",
           "keyName": "PT_TYPE",
           "readOnly": "true",
           "forceSelection": "true"
          },
          "expanded": true,
          "children": [],
          "type": "combo"
         },
         {
          "configs": {
           "itemId": "SHUN_INVERSE",
           "labelAlign": "right",
           "fieldLabel": "同逆向",
           "keyName": "SHUN_INVERSE",
           "readOnly": "true",
           "anyMatch": "true",
           "forceSelection": "true"
          },
          "expanded": true,
          "children": [],
          "type": "combo",
          "events": {"specialkey": "if (e.getKey() == e.ENTER) {\
  if (!combo.isExpanded) //判断combo不展开才切换焦点\
    app.RID1.focus();\
}"}
         }
        ],
        "type": "panel"
       }
      ],
      "type": "panel"
     },
     {
      "configs": {
       "layout": "fit",
       "itemId": "centerPanel",
       "region": "center",
       "title": "司机工资统计"
      },
      "expanded": true,
      "children": [{
       "configs": {"itemId": "WbtdGird"},
       "expanded": true,
       "children": [
        {
         "configs": {"itemId": "tbar"},
         "expanded": false,
         "children": [],
         "type": "toolbar"
        },
        {
         "configs": {
          "itemId": "store",
          "url": "m?xwl=truckManager/truckReceipt/DriverSalaryedit/selectWbtd"
         },
         "expanded": false,
         "children": [],
         "type": "store"
        },
        {
         "configs": {"itemId": "columns"},
         "expanded": true,
         "children": [
          {
           "configs": {
            "itemId": "wbtdid",
            "hidden": "true",
            "dataIndex": "ID",
            "text": "主键id",
            "titleAlign": "center"
           },
           "expanded": false,
           "children": [],
           "type": "column"
          },
          {
           "configs": {
            "itemId": "wbtcheckFlag",
            "renderer": "if(value == 1){\
  return \"已审核\";\
}else if(value ==0){\
  return \"未审核\";\
}",
            "dataIndex": "CHECK_FLAG",
            "width": "65",
            "text": "审核标志",
            "titleAlign": "center"
           },
           "expanded": false,
           "children": [],
           "type": "column"
          },
          {
           "configs": {
            "itemId": "wbtddriverid",
            "dataIndex": "DRIVER_ID",
            "text": "司机",
            "titleAlign": "center"
           },
           "expanded": false,
           "children": [],
           "type": "column"
          },
          {
           "configs": {
            "itemId": "wbtdtruckno",
            "dataIndex": "TRUCK_NO",
            "width": "60",
            "text": "车头",
            "titleAlign": "center"
           },
           "expanded": false,
           "children": [],
           "type": "column"
          },
          {
           "configs": {
            "itemId": "wbtdcntr",
            "dataIndex": "CNTR",
            "width": "100",
            "text": "箱号",
            "titleAlign": "center"
           },
           "expanded": false,
           "children": [],
           "type": "column"
          },
          {
           "configs": {
            "itemId": "wbtdcntrsize",
            "dataIndex": "CNTR_SIZE",
            "width": "40",
            "text": "尺寸",
            "align": "right",
            "titleAlign": "center"
           },
           "expanded": false,
           "children": [],
           "type": "column"
          },
          {
           "configs": {
            "itemId": "wbtdouttime",
            "dataIndex": "OUT_TIM",
            "width": "120",
            "text": "取箱时间",
            "titleAlign": "center"
           },
           "expanded": false,
           "children": [],
           "type": "column"
          },
          {
           "configs": {
            "itemId": "wbtdintime",
            "dataIndex": "IN_TIME",
            "width": "120",
            "text": "还箱时间",
            "titleAlign": "center"
           },
           "expanded": false,
           "children": [],
           "type": "column"
          },
          {
           "configs": {
            "itemId": "wbtddays",
            "dataIndex": "DAYS",
            "width": "40",
            "text": "天数",
            "align": "right",
            "titleAlign": "center"
           },
           "expanded": false,
           "children": [],
           "type": "column"
          },
          {
           "configs": {
            "itemId": "wbtdsaddress",
            "dataIndex": "S_ADRESS",
            "width": "80",
            "text": "地址",
            "titleAlign": "center"
           },
           "expanded": false,
           "children": [],
           "type": "column"
          },
          {
           "configs": {
            "itemId": "wbtdworktype",
            "dataIndex": "WORK_TYPE",
            "width": "80",
            "keyName": "WORK_WAY",
            "text": "作业类型",
            "titleAlign": "center"
           },
           "expanded": false,
           "children": [],
           "type": "column"
          },
          {
           "configs": {
            "itemId": "wbtdperc",
            "dataIndex": "PERC",
            "width": "40",
            "text": "比值",
            "align": "right",
            "titleAlign": "center"
           },
           "expanded": false,
           "children": [],
           "type": "column"
          },
          {
           "configs": {
            "itemId": "wbtdearn",
            "dataIndex": "EARN",
            "width": "40",
            "text": "产值",
            "align": "right",
            "titleAlign": "center"
           },
           "expanded": false,
           "children": [],
           "type": "column"
          },
          {
           "configs": {
            "itemId": "wbtdkm",
            "dataIndex": "KM",
            "width": "40",
            "text": "里程",
            "align": "right",
            "titleAlign": "center"
           },
           "expanded": false,
           "children": [],
           "type": "column"
          },
          {
           "configs": {
            "itemId": "wbtdtkm",
            "hidden": "true",
            "dataIndex": "TKM",
            "width": "70",
            "text": "标重里程",
            "align": "right",
            "titleAlign": "center"
           },
           "expanded": false,
           "children": [],
           "type": "column"
          },
          {
           "configs": {
            "itemId": "wbtdbzkm",
            "hidden": "true",
            "dataIndex": "BZKM",
            "width": "70",
            "text": "标准里程",
            "align": "right",
            "titleAlign": "center"
           },
           "expanded": false,
           "children": [],
           "type": "column"
          },
          {
           "configs": {
            "itemId": "wbtdnewprice",
            "dataIndex": "NEW_PRICE",
            "width": "40",
            "text": "新价",
            "align": "right",
            "titleAlign": "center"
           },
           "expanded": false,
           "children": [],
           "type": "column"
          },
          {
           "configs": {
            "itemId": "wbtdoleprice",
            "dataIndex": "OLE_PRICE",
            "width": "40",
            "text": "旧价",
            "align": "right",
            "titleAlign": "center"
           },
           "expanded": false,
           "children": [],
           "type": "column"
          },
          {
           "configs": {
            "itemId": "wbtdfeeaddr",
            "dataIndex": "FEE_ADDR",
            "width": "70",
            "text": "计费区域",
            "titleAlign": "center"
           },
           "expanded": false,
           "children": [],
           "type": "column"
          }
         ],
         "type": "array"
        }
       ],
       "type": "grid"
      }],
      "type": "panel"
     }
    ],
    "type": "viewport",
    "events": {"afterrender": "// viewport.el.addKeyListener(Ext.EventObject.F8, function() {\
//   app.btnpai.fireEvent(\"click\");\
// });"}
   }
  ],
  "type": "module",
  "events": {
   "finalize": "// app.tbI_E_ID.setValue(\"I\");\
app.tbPHASE.setValue(\"FIN\");\
app.txtnotime.setValue(\"0\");\
app.tbsalary.setValue(\"1\");\
app.tbpdate1.setValue(new Date());\
var firstday=new Date();\
firstday.setDate(1); \
app.tbpdate.setValue(firstday);\
app.searchRBtn.fireEvent('click');\
// app.gridReceipt.store.load({\
//   out: app.ReceiptTbar\
// });\
// app.xwl1.subscribe('/exchange/ex_receipt/#', function(d) {\
//   var msg = d.body;\
//   var record = app.gridReceipt.store.data.findBy(function(i, k) {\
//     return i.data.ID === msg.data.id;\
//   });\
//   //   app.searchRBtn.fireEvent('click');\
//   switch (msg.info.action) {\
//     case 'create':\
//       if (!record)\
//         Wb.request({\
//           url: \"m?xwl=truckManager/truckReceipt/receiptAddTruckedit/selectReceipt\",\
//           out: app.tbar,\
//           params: {\
//             id: msg.data.id,\
//             txtCNTR_NO_R: \"\"\
//           },\
//           success: function(resp) {\
//             var res = Wb.decode(resp.responseText);\
//             if (res.rows.length > 0) {\
//               Wb.add(app.gridReceipt, res.rows[0]);\
//             }\
//           }\
//         });\
//       break;\
//     case 'update':\
//       if (record)\
//         Wb.request({\
//           url: \"m?xwl=truckManager/truckReceipt/receiptAddTruckedit/selectReceipt\",\
//           out: app.tbar,\
//           params: {\
//             id: msg.data.id,\
//             txtCNTR_NO_R: \"\"\
//           },\
//           success: function(resp) {\
//             var res = Wb.decode(resp.responseText);\
//             if (res.rows.length > 0) {\
//               Wb.update(record, res.rows[0]);\
//             }\
//           }\
//         });\
//       break;\
//     case 'delete':\
//       if (record) {\
//         app.gridReceipt.setSelection([record]);\
//         Wb.remove(app.gridReceipt);\
//       }\
//       break;\
//     default:\
//       break;\
//   }\
// });",
   "initialize": "// Wb.apply(app, {\
//   pt_type: function() {\
//     if (app.SHIPPER_WAY.getValue() == \"1\" && app.IN_CAR.displayTplData[0].NAME == \"中山港货运联营有限公司\")\
//       app.PT_TYPE.setValue(\"1\");\
//     else if (app.SHIPPER_WAY.getValue() == \"1\" && app.IN_CAR.displayTplData[0].NAME != \"中山港货运联营有限公司\")\
//       app.PT_TYPE.setValue(\"2\");\
//     else if (app.SHIPPER_WAY.getValue() == \"3\" && app.IN_CAR.displayTplData[0].NAME == \"中山港货运联营有限公司\")\
//       app.PT_TYPE.setValue(\"5\");\
//     else if (app.SHIPPER_WAY.getValue() == \"3\")\
//       app.PT_TYPE.setValue(\"3\");\
//     var nature = \"{#sys.NATURE#}\";\
//     if (nature != 5 && nature != 6)\
//       app.CAR_TEAM.setValue(app.IN_CAR.displayTplData[0].TRUCK_UNIT);\
//   }\
// });"
  }
 }],
 "roles": {
  "JCB": 1,
  "basic": 1,
  "xlcd": 1
 },
 "title": "拖车司机工资表",
 "iconCls": "",
 "inframe": false,
 "pageLink": ""
}